{% set video_vendor = salt['grains.get']('video_vendor', '') %}

base:
#------------------------------------------------------------------------------
# All Hosts
#------------------------------------------------------------------------------
  '*':
    - zsh

#------------------------------------------------------------------------------
# Operating Systems
#------------------------------------------------------------------------------

# Arch Linux
  'os:Arch':
    - match: grain
    - pacman

#------------------------------------------------------------------------------
# Custom Grains
#------------------------------------------------------------------------------

# Video Drivers
{% if video_vendor %}
  'video_vendor:{{ self }}':
    - match: grain
    - video.{{ self }}
{% endif %}

#------------------------------------------------------------------------------
# Hosts
#------------------------------------------------------------------------------

# Personal Desktop
  'ryuko':
    - browser
    - fonts
    - gpg
    - gpg.agent
    - ssh.agent
    - ssh.client
    - vcs
    - video.nvidia

